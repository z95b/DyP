<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guerrero - D&D</title>
    <link href="https://fonts.googleapis.com/css2?family=Garamond&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="dissenys.css">


<body>
    <div id="class-content" class="container"></div>




<script>
async function fetchMarkdown() {
    const response = await fetch('guerrero.markdown');
    const markdown = await response.text();
    return markdown;
}

function convertMarkdownToHTML(markdown) {
    const lines = markdown.split('\n');
    let htmlContent = '';
    let currentHeaderLevel = 0;
    let subCategoryCounter = 0;
    let currentColor = '';

    lines.forEach(line => {
        if (line.startsWith('# ')) {
            if (currentHeaderLevel > 0) {
                htmlContent += `</div>`;
            }
            const header = line.replace('# ', '').trim();
            htmlContent += `<div class="section"><h1>${header}</h1>`;
            currentHeaderLevel = 1;
        } else if (line.startsWith('## ')) {
            if (currentHeaderLevel === 2) {
                htmlContent += `</div>`;
            }
            const header = line.replace('## ', '').trim();
            htmlContent += `<div class="container"><h2>${header}</h2>`;
            currentHeaderLevel = 2;
            subCategoryCounter = 0;
            currentColor = '';
        } else if (line.startsWith('### ')) {
            subCategoryCounter++;
            currentColor = getColorBySubCategoryCounter(subCategoryCounter);
            htmlContent += `<h3 class="${currentColor}">${line.replace('### ', '').trim()}</h3>`;
        } else if (/^\d+\.\s/.test(line)) {
            const listItem = line.replace(/^(\d+)\.\s/, '');
            const number = line.match(/^(\d+)\./)[1];
            const formattedItem = listItem.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
            let colorClass = getColorBySubCategoryCounter(subCategoryCounter);
            htmlContent += `<div class="number-circle ${colorClass}">${number}</div><span class="inline-text">${formattedItem}</span><br>`;
        } else if (line.trim().length > 0) {
            htmlContent += `<p>${line.trim().replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')}</p>`;
        }
    });

    if (currentHeaderLevel > 0) {
        htmlContent += `</div>`;
    }

    return htmlContent;
}

function getColorBySubCategoryCounter(counter) {
    switch (counter) {
        case 1:
            return 'blue-circle';
        case 2:
            return 'red-circle';
        case 3:
            return 'green-circle';
        case 4:
            return 'yellow-circle';
        default:
            return 'default-circle';
    }
}

async function displayMarkdown() {
    const markdown = await fetchMarkdown();
    const html = convertMarkdownToHTML(markdown);
    document.getElementById('class-content').innerHTML = html;
}

displayMarkdown();


 </script>
</body>

</html>